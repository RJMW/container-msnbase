<?xml version='1.0' encoding='UTF-8'?>
<tool id="metfrag-classyfire" name="metfrag-classyfire" version="0.5">
  <requirements>
    <container type="docker">korseby/mtbls709</container>
  </requirements>
  <description>Send MetFrag results to ClassyFire</description>
  <stdio>
    <regex match="" source="stderr" level="warning" description="R messages" />
    <exit_code range="1:" level="fatal" description="Tool error" />
  </stdio>
  <command><![CDATA[
    metfrag-classyfire.r $metfrag_input $classyfire_output $classyfire_plot;
  ]]>
  </command>
  <inputs>
    <param name="metfrag_input" type="data" format="csv" multiple="False" optional="False" label="MetFrag result file(s)" />
  <outputs>
    <data name="classyfire_output" type="data" format="csv" label="CSV with Classified spectra" />
    <data name="classyfire_output" type="data" format="pdf" label="PDF plot with overview on classified spectra" />
  </outputs>
  <help>

.. class:: infomark

| **Tool update: See the 'NEWS' section at the bottom of the page**

---------------------------------------------------

.. class:: infomark

**Authors**

| **Kristian Peters (kpeters@ipb-halle.de)** wrote and maintains this wrapper for the generation of a MetFrag summary file.

---------------------------------------------------

=====================
MetFrag-to-ClassyFire
=====================

-----------
Description
-----------

| This module is used generate a summary PDF file from a MetFrag result file collection. The results are usually generated by the **metfrag-cli-batch**. The generated PDF file includes the Top1 entries of each result CSV file including an image of the candidate and properties. Optionally, the previously generated parameter files can be used as input to create query URLs for the MetFrag-Web tool.

+-------------------+
| predecessor tool  |
+-------------------+
| metfrag-cli-batch |
+-------------------+

-----------
Input files
-----------

+------------------------------+--------+
| File                         | Format |
+==============================+========+
| 1)  MetFrag result file(s)   |  CSV   |
+------------------------------+--------+

----------
Parameters
----------

MetFrag result file(s)
        | Collection of CSV files containing MetFrag results generated by **metfrag-cli-batch-multiple**.
        |

------------
Output files
------------

+-------------------------------------+--------+
| Files                               | Format |
+=====================================+========+
| 1) (Multiple) Summary file(s)       |  CSV   |
| 2) (Multiple) Overview plot file(s) |  PDF   |
+------------------------------------=+--------+

---------------------------------------------------

-------
Changes
-------

Version: 1.0


  </help>
</tool>
