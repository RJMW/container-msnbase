<?xml version='1.0' encoding='UTF-8'?>
<tool id="classyfire-stat" name="classyfirei-stat" version="0.1">
  <requirements>
    <container type="docker">korseby/mtbls709</container>
  </requirements>
  <description>Statistics on ClassyFired MetFrag results</description>
  <stdio>
    <regex match="" source="stderr" level="warning" description="R messages" />
    <exit_code range="1:" level="fatal" description="Tool error" />
  </stdio>
  <command><![CDATA[
    classyfire-stat.r $msdial_matrix $samples_directory $plots;
  ]]>
  </command>
  <inputs>
    <param name="msdial_matrix" type="data" format="txt" multiple="False" optional="False" label="MS-Dial matrix" />
    <param name="classyfire_input" type="data" format="csv" multiple="True" optional="False" label="ClassyFired MetFrag result(s)" />
  </inputs>
  <outputs>
    <data name="plots" type="data" format="pdf" label="PDF containing statistical plots" />
  </outputs>
  <help>

.. class:: infomark

| **Tool update: See the 'NEWS' section at the bottom of the page**

---------------------------------------------------

.. class:: infomark

**Authors**

| **Kristian Peters (kpeters@ipb-halle.de)** wrote and maintains this wrapper for the generation of a MetFrag summary file.

---------------------------------------------------

=====================
ClassyFire Statistics
=====================

-----------
Description
-----------

| This module is used generate a summary PDF file from a MetFrag result file collection. The results are usually generated by the **metfrag-cli-batch**. The generated PDF file includes the Top1 entries of each result CSV file including an image of the candidate and properties. Optionally, the previously generated parameter files can be used as input to create query URLs for the MetFrag-Web tool.

+-------------------+
| predecessor tool  |
+-------------------+
| metfrag-cli-batch |
+-------------------+

-----------
Input files
-----------

+------------------------------+--------+
| File                         | Format |
+==============================+========+
| 1)  MetFrag result file(s)   |  CSV   |
+------------------------------+--------+

----------
Parameters
----------

MetFrag result file(s)
        | Collection of CSV files containing MetFrag results generated by **metfrag-cli-batch-multiple**.
        |

------------
Output files
------------

+-------------------------------------+--------+
| Files                               | Format |
+=====================================+========+
| 1) (Multiple) Summary file(s)       |  CSV   |
| 2) (Multiple) Overview plot file(s) |  PDF   |
+------------------------------------=+--------+

---------------------------------------------------

-------
Changes
-------

Version: 1.0


  </help>
</tool>
